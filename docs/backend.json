{
  "entities": {
    "Booking": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Booking",
      "type": "object",
      "description": "Represents a taxi booking request.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the booking entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the person making the booking."
        },
        "contact": {
          "type": "string",
          "description": "Contact information of the person making the booking."
        },
        "pickupPoint": {
          "type": "string",
          "description": "Pickup location for the booking."
        },
        "dropOffPoint": {
          "type": "string",
          "description": "Drop-off location for the booking."
        },
        "dateTime": {
          "type": "string",
          "description": "Date and time of the booking.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The status of the booking (e.g., pending, confirmed, completed, cancelled)."
        },
        "customerId": {
          "type": "string",
          "description": "The UID of the customer who made the booking."
        }
      },
      "required": [
        "name",
        "contact",
        "pickupPoint",
        "dropOffPoint",
        "dateTime",
        "status",
        "customerId"
      ]
    },
    "ContactFormSubmission": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ContactFormSubmission",
      "type": "object",
      "description": "Represents a contact form submission.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the contact form submission entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the person submitting the contact form."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person submitting the contact form.",
          "format": "email"
        },
        "message": {
          "type": "string",
          "description": "Message content from the contact form."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time of the contact form submission.",
          "format": "date-time"
        }
      },
      "required": ["name", "email", "message", "submissionDate"]
    },
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's public profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string"
        },
        "photoURL": {
          "type": "string",
          "format": "uri"
        }
      },
      "required": ["displayName"]
    },
    "Customer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Customer",
      "type": "object",
      "description": "Represents a customer of the taxi service.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the customer (matches Firebase Auth UID)."
        },
        "firstName": {
          "type": "string",
          "description": "First name of the customer."
        },
        "lastName": {
          "type": "string",
          "description": "Last name of the customer."
        },
        "email": {
          "type": "string",
          "description": "Email address of the customer.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the customer."
        },
        "address": {
          "type": "string",
          "description": "Address of the customer."
        }
      },
      "required": ["id", "firstName", "lastName", "email", "phone"]
    },
    "Review": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Review",
      "type": "object",
      "description": "Represents a user review.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the review."
        },
        "userId": {
          "type": "string",
          "description": "The UID of the user who submitted the review."
        },
        "email": {
          "type": "string",
          "description": "Email of the reviewer.",
          "format": "email"
        },
        "rating": {
          "type": "number",
          "description": "Rating from 1 to 5."
        },
        "message": {
          "type": "string",
          "description": "The review text."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date of the review submission.",
          "format": "date-time"
        }
      },
      "required": ["userId", "email", "rating", "message", "submissionDate"]
    }
  },
  "auth": {
    "providers": ["password", "anonymous"]
  },
  "firestore": {
    "structure": [
      {
        "path": "/bookings/{bookingId}",
        "definition": {
          "entityName": "Booking",
          "schema": {
            "$ref": "#/backend/entities/Booking"
          },
          "description": "Collection to store all booking requests. Read access is restricted to the customer who created the booking.",
          "params": [
            {
              "name": "bookingId",
              "description": "The unique identifier for the booking."
            }
          ]
        }
      },
      {
        "path": "/contact_form_submissions/{submissionId}",
        "definition": {
          "entityName": "ContactFormSubmission",
          "schema": {
            "$ref": "#/backend/entities/ContactFormSubmission"
          },
          "description": "Collection to store contact form submissions. Read access is restricted.",
          "params": [
            {
              "name": "submissionId",
              "description": "The unique identifier for the contact form submission."
            }
          ]
        }
      },
      {
        "path": "/customers/{customerId}",
        "definition": {
          "entityName": "Customer",
          "schema": {
            "$ref": "#/backend/entities/Customer"
          },
          "description": "Collection to store customer data. The document ID must match the Firebase Auth UID of the user.",
          "params": [
            {
              "name": "customerId",
              "description": "The unique identifier for the customer, matching their Firebase Auth UID."
            }
          ]
        }
      },
      {
        "path": "/reviews/{reviewId}",
        "definition": {
          "entityName": "Review",
          "schema": {
            "$ref": "#/backend/entities/Review"
          },
          "description": "Collection to store user reviews. Writable by any authenticated user.",
          "params": [
            {
              "name": "reviewId",
              "description": "The unique identifier for the review."
            }
          ]
        }
      }
    ]
  }
}
